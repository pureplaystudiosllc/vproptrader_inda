import{r as e,c as t,I as a,J as l,R as n,M as i,K as s,F as u,P as o,u as r,L as d,O as c,a2 as m,w as p,z as y,j as v,x as P,U as g,s as T,f as _,v as D}from"./vue-vendor-dpeM2kxB.js";import{_ as E,bM as R,c as b,a$ as f,f as A,bf as h,aw as k,aT as O,bN as N,bO as U,bP as I,bQ as C,E as S,bb as F,i as M,bR as L,bS as x,bT as $,bU as w,bV as Y,bW as H,bX as V,bY as B,bZ as j,b_ as q,b$ as G,c0 as K,c1 as z,aO as J,c2 as X}from"./main-UPGOfi6h.js";import"./utils-vendor-Bv3pXXA2.js";import"./vant-vendor-CCYRvjqt.js";import"./pdfh5-DcFc6bYW.js";const Z="/assets/img/Logo-FPX-YJ-sknkZ.png",Q=["onClick"],W={class:"img-list"},ee=["src"],te={class:"curreny-text"},ae=E({__name:"Choose",props:{getImgList:{type:Function,required:!0}},emits:["choose"],setup(m,{emit:p}){const y=m,v=p;R();const{t:P}=b(),g=e([]),T=t((()=>[...g.value]));(async()=>{const{code:e,data:t}=await f({type:1});"0000"===e&&(g.value=t)})();return(e,t)=>{const m=a("el-col"),p=a("el-row");return l(),n(p,{gutter:16},{default:i((()=>[(l(!0),s(u,null,o(r(T),(e=>(l(),n(m,{key:e.currency,span:12},{default:i((()=>[d("div",{class:"currency-item",onClick:t=>(e=>{A._trackFundDepositType(e.currencyName||e.currency.toString()),99!==e.currency?v("choose",e):h.alert(P("PC.PROP_TRADER.FUND.DEPOSIT.temporarily"),"TIP",{confirmButtonText:"OK"})})(e)},[d("div",W,[(l(!0),s(u,null,o(y.getImgList(e.currency),(e=>(l(),s("img",{src:e.img,alt:""},null,8,ee)))),256))]),d("div",te,c(e.currencyName),1)],8,Q)])),_:2},1024)))),128))])),_:1})}}},[["__scopeId","data-v-403c82a1"]]),le={class:"form-item"},ne={class:"header-con"},ie={class:"info-con"},se=["innerHTML"],ue={class:"img-list"},oe=["src"],re={style:{display:"inline-block"}},de={style:{display:"flex","align-items":"center"}},ce={style:{display:"flex","align-items":"center",width:"100%"}},me={class:"real-amount"},pe={style:{lineHeight:"40px",marginBottom:8}},ye={style:{"margin-bottom":"24px"}},ve={style:{lineHeight:"40px",marginBottom:8}},Pe={style:{"margin-bottom":"24px"}},ge=E({__name:"FormItem",props:{data:{type:Object,required:!0},getImgList:{type:Function,required:!0}},emits:["choose"],setup(_,{emit:D}){const E=_,R=D,{t:f}=b(),A=t((()=>E.data)),h=t((()=>{var e;return`<div>${99===(null==(e=A.value)?void 0:e.currency)?`<span style="lineHeight: 18px">${f("PC.PROP_TRADER.FUND.DEPOSIT.localTip")}</span>`:f("PC.PROP_TRADER.FUND.DEPOSIT.des")}</div>`})),M=e([]);(async()=>{try{const{code:e,data:t}=await I({currency:5});if("0000"!==e)return;M.value=t}catch(e){}})();const L=e(),x=e({usdtAmount:null}),$=e({usdtAmount:[{type:"number",required:!0,trigger:["blur","change"],message:f("PC.PROP_TRADER.FUND.DEPOSIT.usdtAmount")}],bankCode:[{required:!0,trigger:["blur","change"],message:f("PC.PROP_TRADER.FUND.DEPOSIT.bankName")}]}),w=t((()=>{var e,t,a;return(null==(e=A.value)?void 0:e.currency)&&[7,8].includes(null==(t=A.value)?void 0:t.currency)?"USD":(null==(a=A.value)?void 0:a.currencyName)||""})),Y=k(),{actualAmount:H,loading:V}=m(Y);p((()=>x.value.usdtAmount),(()=>{var e;Y.fetchActualAmount({currency:null==(e=A.value)?void 0:e.currency,amount:x.value.usdtAmount+"",type:0})}));const B=O(),j=e(!1),q=async()=>{var e,t;if(!(await L.value.validate()))return!1;try{j.value=!0,localStorage.setItem("pages.deposit.html","");const{code:a,data:l}=await C({...x.value,currency:(null==(e=A.value)?void 0:e.currency)||0});if("0000"!==a)return;if(S.success(f("PC.PROP_TRADER.FUND.DEPOSIT.success")),L.value.resetFields(),0===l.type&&l.payLink){const e=l.payLink;if(7==(null==(t=A.value)?void 0:t.currency)){const e=l.payLink.split("?")[1].split("&"),t={};e.forEach((e=>{const a=e.split("=")[0],l=e.split("=")[1];t[a]=l})),await async function(e){var t,a;const l=document.getElementById("pmForm");if(l){for(let t in e){const a=l.querySelector(`input[name="${t}"]`);a&&(a.value=e[t])}return null==(a=null==(t=l.querySelector('input[name="PAYMENT_METHOD"]'))?void 0:t.click)||a.call(t),new Promise((e=>{setTimeout((()=>{e(!0)}),2e3)}))}}(t)}else F(e)}else 1===l.type&&l.html&&(localStorage.setItem("pages.deposit.html",encodeURIComponent(l.html)),F("/deposit.html"));R("choose",null),B.getUserInfo()}catch(a){S.error(a.message)}finally{j.value=!1}};return(e,t)=>{const m=a("el-icon"),p=a("el-button"),_=a("el-tooltip"),D=a("el-input-number"),b=a("el-form-item"),k=a("el-option"),O=a("el-select"),I=a("el-form"),C=y("el-loading");return l(),s("div",le,[d("div",ne,[v(p,{link:"",onClick:t[0]||(t[0]=e=>R("choose",null))},{default:i((()=>[v(m,null,{default:i((()=>[v(r(N))])),_:1}),P(" "+c(e.$t("PC.PROP_TRADER.FUND.DEPOSIT.BACK")),1)])),_:1})]),d("div",ie,[d("div",{class:"info-item",innerHTML:r(h)},null,8,se),d("div",ue,[(l(!0),s(u,null,o(E.getImgList(r(A).currency)||[],(e=>(l(),s("img",{src:e.img,alt:""},null,8,oe)))),256))])]),t[6]||(t[6]=d("form",{style:{display:"none"},action:"https://perfectmoney.com/api/step1.asp",method:"POST",target:"_blank",id:"pmForm"},[d("input",{type:"hidden",name:"PAYEE_ACCOUNT",value:""}),d("input",{type:"hidden",name:"PAYEE_NAME",value:""}),d("input",{type:"hidden",name:"PAYMENT_ID",value:""}),d("input",{type:"hidden",name:"PAYMENT_AMOUNT",value:""}),d("input",{type:"hidden",name:"PAYMENT_UNITS",value:""}),d("input",{type:"hidden",name:"STATUS_URL",value:""}),d("input",{type:"hidden",name:"PAYMENT_URL",value:""}),d("input",{type:"hidden",name:"PAYMENT_URL_METHOD",value:""}),d("input",{type:"hidden",name:"NOPAYMENT_URL",value:""}),d("input",{type:"hidden",name:"NOPAYMENT_URL_METHOD",value:""}),d("input",{type:"hidden",name:"SUGGESTED_MEMO",value:""}),d("input",{type:"hidden",name:"BAGGAGE_FIELDS",value:""}),d("input",{type:"submit",name:"PAYMENT_METHOD",value:""})],-1)),v(I,{ref_key:"formRef",ref:L,size:"large",model:r(x),rules:r($),"label-width":"auto","label-position":"top",class:"form-con"},{default:i((()=>{var a,y;return[v(b,{label:r(f)("PC.PROP_TRADER.FUND.DEPOSIT.usdtAmount"),prop:"usdtAmount"},{label:i((()=>{var t;return[d("span",re,[d("span",de,[d("span",null,c(r(f)("PC.PROP_TRADER.FUND.DEPOSIT.usdtAmount")),1),v(_,{content:e.$t("PC.PROP_TRADER.FUND.DEPOSIT.usdtAmountTip")+` ${null==(t=r(A))?void 0:t.minDepositAmount} USD`},{default:i((()=>[v(m,{style:{"margin-left":"5px"}},{default:i((()=>[v(r(U))])),_:1})])),_:1},8,["content"])])])]})),default:i((()=>{var a,l;return[d("div",ce,[v(D,{modelValue:r(x).usdtAmount,"onUpdate:modelValue":t[1]||(t[1]=e=>r(x).usdtAmount=e),style:{flex:"1"},"controls-position":"right",min:(null==(a=r(A))?void 0:a.minDepositAmount)||0,placeholder:e.$t("PC.PROP_TRADER.FUND.DEPOSIT.usdtAmountTip")+` ${null==(l=r(A))?void 0:l.minDepositAmount} USD`},null,8,["modelValue","min","placeholder"]),t[5]||(t[5]=d("span",{style:{"margin-left":"5px"}},"USD",-1))])]})),_:1},8,["label"]),5===(null==(a=r(A))?void 0:a.currency)?(l(),n(b,{key:0,label:r(f)("PC.PROP_TRADER.FUND.DEPOSIT.bankName"),prop:"bankCode"},{default:i((()=>[v(O,{modelValue:r(x).bankCode,"onUpdate:modelValue":t[2]||(t[2]=e=>r(x).bankCode=e),clearable:"",placeholder:r(f)("PC.PROP_TRADER.FUND.DEPOSIT.bankName")},{default:i((()=>[(l(!0),s(u,null,o(r(M),(e=>(l(),n(k,{key:e.bankCode,label:e.bankName+(e.bankCode?`(${e.bankCode})`:""),value:e.bankCode},null,8,["label","value"])))),128))])),_:1},8,["modelValue","placeholder"])])),_:1},8,["label"])):g("",!0),T((l(),s("div",me,[d("div",pe,c(e.$t("PC.PROP_TRADER.FUND.DEPOSIT.exchangeRate")),1),d("div",ye,c((null==(y=r(A))?void 0:y.exchangeRate)||1),1),d("div",ve,c(e.$t("PC.PROP_TRADER.FUND.DEPOSIT.realAmount")),1),d("div",Pe,c(r(H)||"--")+" "+c(r(w)),1)])),[[C,{show:r(V),height:"100%",background:"rgba(0, 0, 0, 0.3)"}]]),v(b,{label:" "},{default:i((()=>[v(p,{onClick:t[3]||(t[3]=e=>{L.value.resetFields()})},{default:i((()=>[P(c(e.$t("BUTTONS.RESET")),1)])),_:1}),v(p,{type:"primary",loading:r(j),onClick:t[4]||(t[4]=e=>q())},{default:i((()=>[P(c(e.$t("BUTTONS.SUBMIT")),1)])),_:1},8,["loading"])])),_:1})]})),_:1},8,["model","rules"])])}}},[["__scopeId","data-v-85b1a67a"]]),Te={class:"page-container"},_e={class:"page-title"},De=["innerHTML"],Ee={class:"page-content"},Re=E({__name:"index",setup(t){const u=e(!1),o=e=>e||0===e?[{key:0,img:L},{key:1,img:x},{key:1,img:$},{key:2,img:w},{key:2,img:Y},{key:2,img:H},{key:2,img:V},{key:3,img:Z},{key:4,img:B},{key:5,img:j},{key:7,img:q},{key:8,img:G},{key:11,img:K},{key:13,img:z},{key:14,img:J},{key:99,img:X}].filter((t=>t.key===e)):[],m=e(null),p=e=>{m.value=e};return(e,t)=>{const y=a("el-icon"),P=a("el-dialog");return l(),s("div",Te,[d("div",_e,[d("span",null,c(e.$t("PC.MENU.FUND_DEPOSIT")),1),d("span",{onClick:t[0]||(t[0]=e=>u.value=!0),style:{"margin-left":"5px","margin-top":"2px",cursor:"pointer"}},[v(y,null,{default:i((()=>[v(r(M))])),_:1})]),v(P,{modelValue:r(u),"onUpdate:modelValue":t[1]||(t[1]=e=>_(u)?u.value=e:null),title:"",width:"1000"},{footer:i((()=>t[2]||(t[2]=[]))),default:i((()=>[d("div",{innerHTML:`<div>${e.$t("PC.PROP_TRADER.FUND.DEPOSIT_PAGE_TITLE")}</div>`},null,8,De)])),_:1},8,["modelValue"])]),d("div",Ee,[r(m)?(l(),n(ge,{key:0,data:r(m),getImgList:o,onChoose:p},null,8,["data"])):g("",!0),T(v(ae,{getImgList:o,onChoose:p},null,512),[[D,!r(m)]])])])}}},[["__scopeId","data-v-b2b2c30d"]]);export{Re as default};
