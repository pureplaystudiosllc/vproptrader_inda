const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/main-UPGOfi6h.js","assets/js/vue-vendor-dpeM2kxB.js","assets/js/utils-vendor-Bv3pXXA2.js","assets/js/vant-vendor-CCYRvjqt.js","assets/js/pdfh5-DcFc6bYW.js","assets/css/main-CKanV1gG.css"])))=>i.map(i=>d[i]);
import{_ as a,b as e,c as l,am as s,an as t,f as i,R as n,$ as c}from"./main-UPGOfi6h.js";import{Q as r,a2 as d,r as o,c as u,a as L,b as p,I as v,z as b,J as _,K as I,L as A,O as g,u as m,F as S,P as B,j as E,M as N,x as T,N as f,s as h,R as y,U as G,aB as w}from"./vue-vendor-dpeM2kxB.js";import"./utils-vendor-Bv3pXXA2.js";import"./vant-vendor-CCYRvjqt.js";import"./pdfh5-DcFc6bYW.js";const C={class:"prop-trader-billing"},M={class:"billing-container"},O={class:"page-header"},Y={class:"page-title"},R={class:"status-tabs"},P={class:"billing-table-wrapper"},U={class:"pay-cell"},k=["onClick"],D={key:1,class:"no-pay"},j={class:"challenge-info"},x={class:"challenge-title"},z={class:"account-details"},F={class:"account-size"},H={class:"proforma"},W={class:"challenge-type"},$={class:"dates"},q={class:"amount"},J={class:"order"},K={class:"status-cell"},Q={key:0,class:"pagination-wrapper"},V=a(Object.assign({name:"PropTraderBilling"},{__name:"index",setup(a){const V=w((()=>c((()=>import("./main-UPGOfi6h.js").then((a=>a.cq))),__vite__mapDeps([0,1,2,3,4,5])))),Z=r(),X=e(),{t:aa}=l(),ea=s(),{loading:la}=d(ea),sa=[{label:aa("MY_BILLING.TABS.ALL"),value:""},{label:aa("MY_BILLING.TABS.WAITING"),value:t.WAITING.toString()},{label:aa("MY_BILLING.TABS.SUCCESS"),value:t.SUCCESS.toString()},{label:aa("MY_BILLING.TABS.FAIL"),value:t.FAIL.toString()}],ta=o(t.WAITING.toString()),ia=o(1),na=o(10),ca=u((()=>la.value)),ra=o([]),da=o(0),oa=L({}),ua=async(a=1)=>{try{const e=await ea.fetchUnPaidAccountList({page:a,limit:na.value,payState:ta.value});ra.value=e.data,da.value=e.dataCount,Object.keys(oa).forEach((a=>delete oa[a]))}catch(e){}},La=a=>{ia.value=a,ua(a)};return p((()=>{ua()})),(a,e)=>{const l=v("el-button"),s=v("el-table-column"),c=v("el-table"),r=v("el-pagination"),d=b("el-loading");return _(),I("div",C,[A("div",M,[A("div",O,[A("h1",Y,g(m(aa)("MY_BILLING.TITLE")),1)]),A("div",R,[(_(),I(S,null,B(sa,(a=>E(l,{key:a.value,class:f([{active:ta.value===a.value},"tab-btn"]),disabled:ca.value,onClick:e=>(a=>{ta.value!==a&&(i._trackBillingType(a),ta.value=a,ia.value=1,ua(1))})(a.value)},{default:N((()=>[T(g(a.label),1)])),_:2},1032,["class","disabled","onClick"]))),64))]),A("div",P,[h((_(),y(c,{data:ra.value,class:"billing-table","header-cell-class-name":"table-header-cell","cell-class-name":"table-cell"},{default:N((()=>[E(s,{label:m(aa)("MY_BILLING.LABELS.PAY"),"min-width":"120",align:"center"},{default:N((({row:a})=>[A("div",U,[a.payState===m(t).WAITING?(_(),I(S,{key:0},[A("span",{class:f(["pay-icon",{disabled:oa[a.id]}]),onClick:e=>oa[a.id]?null:(a=>{const e={id:a.id,proformaNo:a.proformaNo,balance:a.balance,price:a.price,accountType:a.accountTypeStr,isResetOrder:a.isResetOrder,platform:"MT5",tradingAccountCurrency:"USD"};X.setOrderData(e),Z.push({name:n.PC.PAY_ORDER,query:{from:"billing"}})})(a)},g(m(aa)("MY_BILLING.LABELS.PAY")),11,k),E(m(V),{seconds:a.remainingSeconds,"show-seconds":!0,onTimeUp:e=>(a=>{oa[a.id]=!0})(a),class:"countdown-in-pay"},null,8,["seconds","onTimeUp"])],64)):(_(),I("span",D,"-"))])])),_:1},8,["label"]),E(s,{label:m(aa)("MY_BILLING.LABELS.PROP_TRADER_CHALLENGE"),"min-width":"220"},{default:N((({row:a})=>[A("div",j,[A("div",x,g(m(aa)("MY_BILLING.LABELS.PROP_TRADER_CHALLENGE")),1),A("div",z,[A("div",F,g(m(aa)("MY_BILLING.LABELS.ACCOUNT_SIZE"))+": "+g(a.balance),1),A("div",H,g(m(aa)("MY_BILLING.LABELS.PROFORMA_NO"))+": "+g(a.proformaNo),1)])])])),_:1},8,["label"]),E(s,{label:m(aa)("ADD_CHALLENGE.CHALLENGE_TYPE.TITLE"),"min-width":"200",align:"left"},{default:N((({row:a})=>[A("div",W,g(a.challengeType||"2 Step"),1)])),_:1},8,["label"]),E(s,{label:m(aa)("MY_BILLING.LABELS.DATES"),"min-width":"220"},{default:N((({row:a})=>[A("div",$,g(a.date),1)])),_:1},8,["label"]),E(s,{label:m(aa)("MY_BILLING.LABELS.AMOUNT_TO_PAY"),"min-width":"200",align:"left"},{default:N((({row:a})=>[A("div",q,"$"+g(a.price),1)])),_:1},8,["label"]),E(s,{label:m(aa)("MY_BILLING.LABELS.ORDER"),"min-width":"120",align:"left"},{default:N((({row:a})=>[A("div",J,"$"+g(a.orderAmount),1)])),_:1},8,["label"]),E(s,{label:m(aa)("MY_BILLING.LABELS.ACCOUNT"),"min-width":"120",align:"center"},{default:N((({row:a})=>e[1]||(e[1]=[A("div",{class:"account"},"MT5",-1)]))),_:1},8,["label"]),E(s,{label:m(aa)("COMMON.STATUS"),"min-width":"150",align:"center"},{default:N((({row:a})=>[A("div",K,[A("div",{class:f(["status",`status-${a.payState}`])},g(a.payStateStr),3)])])),_:1},8,["label"])])),_:1},8,["data"])),[[d,{show:ca.value,background:"rgba(0, 0, 0, 0.7)"}]]),ra.value.length>0?(_(),I("div",Q,[E(r,{"current-page":ia.value,"onUpdate:currentPage":e[0]||(e[0]=a=>ia.value=a),"page-size":na.value,total:da.value,layout:"total, prev, pager, next",onCurrentChange:La,disabled:ca.value},null,8,["current-page","page-size","total","disabled"])])):G("",!0)])])])}}}),[["__scopeId","data-v-606def5f"]]);export{V as default};
