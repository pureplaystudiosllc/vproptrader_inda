import{H as a,r as e,S as s,Q as t,a2 as l,c as n,w as i,b as r,J as c,K as d,j as o,u,L as v,F as w,P as m,N as p,O as h,U as y}from"./vue-vendor-dpeM2kxB.js";import{b5 as g,c9 as R,_ as f,ca as b,cb as D,bK as T,bL as I,R as N}from"./main-UPGOfi6h.js";import"./utils-vendor-Bv3pXXA2.js";import"./vant-vendor-CCYRvjqt.js";import"./pdfh5-DcFc6bYW.js";const k=(a={})=>{try{return{newsReleaseId:String(a.newsReleaseId||"0"),title:a.title||"",author:a.author||"",content:a.content||"",dataTime:a.dataTime||"",status:a.status}}catch(e){return{}}},L=a("newsReleaseDetail",(()=>{const a=e({}),s=e(!1),t=e(null);return{newsDetail:a,loading:s,error:t,fetchNewsReleaseDetail:async e=>{try{s.value=!0,t.value=null;const l=await(a=>g(`/${R}/getNewsReleaseDetail`,{method:"GET",params:a}).then((a=>({data:k(a.data),code:a.code,msg:a.msg}))))(e);return a.value=l.data,l}catch(l){throw t.value=l,l}finally{s.value=!1}},clearNewsDetail:()=>{a.value={},t.value=null}}}),{persist:{key:"news-release-detail",storage:sessionStorage,paths:["newsDetail"]}}),j={class:"news-detail-page-wrapper"},S={key:0,class:"news-detail-container"},_={class:"toc-sidebar"},C=["onClick"],E={class:"content-area"},H={class:"news-article"},x={class:"article-header"},K={class:"meta-info"},M={key:0,class:"author"},O={class:"article-title"},P={class:"article-body"},A=["innerHTML"],B={key:1,class:"loading-container"},F={key:2,class:"not-found-container"},G=f(Object.assign({name:"NewsDetail"},{__name:"index",setup(a){const e=s(),g=t(),R=L(),f=b(),{newsDetail:k,loading:G}=l(R),{newsReleaseTitleList:J}=l(f),Q=async()=>{const a=e.params.id;if(a)try{await R.fetchNewsReleaseDetail({variable:"1",newsReleaseId:a})}catch(s){}},U=n((()=>{try{return k.value&&k.value.dataTime?D(k.value.dataTime):""}catch(a){return""}}));return i((()=>e.params.id),Q,{immediate:!0}),r((async()=>{await(async()=>{var a;try{(null==(a=J.value)?void 0:a.length)||await f.fetchNewsReleaseTitleList({variable:"1"})}catch(e){}})(),await Q()})),(a,s)=>{var t;return c(),d("div",j,[o(T),(null==(t=u(k))?void 0:t.newsReleaseId)?(c(),d("div",S,[v("aside",_,[v("nav",null,[v("ul",null,[(c(!0),d(w,null,m(u(J)||[],(a=>(c(),d("li",{key:a.newsReleaseId,class:p(["toc-item",{active:String(a.newsReleaseId)===String(u(e).params.id)}]),onClick:e=>{return s=a.newsReleaseId,void g.push({name:N.PC.NEWS_DETAIL,params:{id:String(s)}});var s}},[v("a",null,h(a.title),1)],10,C)))),128))])])]),v("main",E,[v("article",H,[v("header",x,[v("div",K,[v("span",null,h(U.value),1),u(k).author?(c(),d("span",M,"By "+h(u(k).author),1)):y("",!0)]),v("h1",O,h(u(k).title),1)]),v("div",P,[v("div",{class:"article-content",innerHTML:u(k).content},null,8,A)])])])])):u(G)?(c(),d("div",B,s[0]||(s[0]=[v("p",null,"Loading...",-1)]))):(c(),d("div",F,s[1]||(s[1]=[v("p",null,"News article not found.",-1)]))),o(I)])}}}),[["__scopeId","data-v-a962d3d1"]]);export{G as default};
